<h2>Scroll-Driven Animations</h2>
<h3>Animate Based on Scroll Position ‚Äî Pure CSS! üìú‚ú®</h3>

<div class="demo-container">
    <div class="code-panel">
        <div class="code-header">
            <span class="code-language">CSS</span>
            <span class="code-copy" onclick="copyCodeToClipboard(this)">üìã</span>
        </div>
        <pre class="code-content"><code><span class="comment">/* Define the animation */</span>
<span class="selector">@keyframes reveal</span> {
    <span class="selector">from</span> {
        <span class="property">opacity</span>: <span class="value">0</span>;
        <span class="property">transform</span>: <span class="value">translateX(-50px) scale(0.50)</span>;
    }
    <span class="selector">to</span> {
        <span class="property">opacity</span>: <span class="value">1</span>;
        <span class="property">transform</span>: <span class="value">translateX(0) scale(1)</span>;
    }
}

<span class="comment">/* Trigger on scroll into view */</span>
<span class="selector">.card</span> {
    <span class="property">animation</span>: <span class="value">reveal linear</span>;
    <span class="property">animation-timeline</span>: <span class="value">view()</span>;
    <span class="property">animation-range</span>: <span class="value">entry 0% cover 30%</span>;
}

<span class="comment">/* Or use scroll progress */</span>
<span class="selector">.progress-bar</span> {
    <span class="property">animation</span>: <span class="value">grow linear</span>;
    <span class="property">animation-timeline</span>: <span class="value">scroll()</span>;
}</code></pre>
    </div>
    <div class="result-panel">
        <div class="scroll-wrapper">
            <div class="scroll-container" id="scrollDemo">
                <div class="scroll-card" style="--i: 0">
                    <span class="card-icon">üöÄ</span>
                    <span>No JavaScript</span>
                </div>
                <div class="scroll-card" style="--i: 1">
                    <span class="card-icon">‚ö°</span>
                    <span>60fps Performance</span>
                </div>
                <div class="scroll-card" style="--i: 2">
                    <span class="card-icon">üìâ</span>
                    <span>80% Less Code</span>
                </div>
                <div class="scroll-card" style="--i: 3">
                    <span class="card-icon">üé®</span>
                    <span>Pure CSS Magic</span>
                </div>
                <div class="scroll-card" style="--i: 4">
                    <span class="card-icon">üîÑ</span>
                    <span>Smooth Transitions</span>
                </div>
                <div class="scroll-card" style="--i: 5">
                    <span class="card-icon">üì±</span>
                    <span>Works Everywhere</span>
                </div>
                <div class="scroll-card" style="--i: 6">
                    <span class="card-icon">‚ú®</span>
                    <span>Future of CSS</span>
                </div>
            </div>
            <div class="scroll-progress-container">
                <div class="scroll-progress-bar"></div>
            </div>
        </div>
        <p class="scroll-label">‚¨ÜÔ∏è Scroll progress</p>
        <p class="scroll-hint">‚ÜïÔ∏è Scroll inside the box above!</p>
    </div>
</div>

<style>
    .scroll-wrapper {
        display: flex;
        flex-direction: column;
        gap: 0;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border-radius: 0.75rem;
        overflow: hidden;
        timeline-scope: --cards-timeline;
    }

    .scroll-container {
        height: 280px;
        overflow-y: auto;
        scroll-timeline: --cards-timeline y;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .scroll-card {
        display: flex;
        align-items: center;
        gap: 1.25rem;
        padding: 1.25rem 1.5rem;
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 0.75rem;
        color: white;
        font-weight: 600;
        font-size: 1.1rem;
        flex-shrink: 0;

        /* Scroll-driven animation */
        animation: cardReveal linear both;
        animation-timeline: view();
        animation-range: entry 0% cover 30%;
    }

    @keyframes cardReveal {
        from {
            opacity: 0;
            transform: translateX(-50px) scale(0.50);
        }

        to {
            opacity: 1;
            transform: translateX(0) scale(1);
        }
    }

    .card-icon {
        font-size: 1.75rem;
    }

    .scroll-progress-container {
        position: relative;
        height: 12px;
        background: rgba(102, 126, 234, 0.3);
        overflow: visible;
    }

    .scroll-progress-bar {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        background: linear-gradient(90deg, #667eea, #764ba2);
        width: 0%;
        box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);

        /* Animate based on container scroll */
        animation: progressGrow linear both;
        animation-timeline: --cards-timeline;
    }

    @keyframes progressGrow {
        from {
            width: 0%;
        }

        to {
            width: 100%;
        }
    }

    .scroll-label {
        text-align: center;
        font-size: 0.85rem;
        color: white;
        font-weight: 500;
        margin: 0.5rem 0 0 0;
    }

    .scroll-hint {
        text-align: center;
        font-size: 0.9rem;
        color: white;
        margin: 0;
        opacity: 0.8;
    }

    /* Fallback for unsupported browsers */
    @supports not (animation-timeline: view()) {
        .scroll-card {
            opacity: 1;
            transform: none;
        }

        .scroll-progress-bar {
            width: 50%;
        }
    }
</style>