<!-- Slide: Intersection Observer API -->
<h2>Intersection Observer API</h2>
<h3>"Lazy loading without scroll spam"</h3>
<div class="demo-container">
    <div class="code-panel">
        <div class="code-header">
            <span class="code-language">JavaScript</span>
            <span class="code-copy" onclick="copyCodeToClipboard(this)">ğŸ“‹</span>
        </div>
        <pre class="code-content"><code><span class="comment">// Create an observer with options</span>
<span class="function">const</span> observer = <span class="function">new</span> <span class="object">IntersectionObserver</span>(
    (entries) => {
        entries.<span class="method">forEach</span>(entry => {
            <span class="function">if</span> (entry.<span class="property">isIntersecting</span>) {
                entry.<span class="property">target</span>.<span class="property">classList</span>.<span class="method">add</span>(<span class="value">'visible'</span>);
                <span class="comment">// Optional: stop observing after animation</span>
                observer.<span class="method">unobserve</span>(entry.<span class="property">target</span>);
            }
        });
    },
    {
        <span class="property">threshold</span>: <span class="value">0.5</span>,      <span class="comment">// 50% visible triggers</span>
        <span class="property">rootMargin</span>: <span class="value">'50px'</span>  <span class="comment">// Trigger 50px early</span>
    }
);

<span class="comment">// Observe multiple elements</span>
<span class="object">document</span>.<span class="method">querySelectorAll</span>(<span class="value">'.lazy-item'</span>)
    .<span class="method">forEach</span>(el => observer.<span class="method">observe</span>(el));</code></pre>
        <div class="code-header css-header">
            <span class="code-language">Use Cases</span>
        </div>
        <pre class="code-content"><code><span class="comment">/* Perfect for: */</span>
<span class="value">âœ“</span> Lazy loading images & videos
<span class="value">âœ“</span> Infinite scroll pagination
<span class="value">âœ“</span> Scroll-triggered animations
<span class="value">âœ“</span> Analytics (track what users see)
<span class="value">âœ“</span> Pausing off-screen videos
<span class="value">âœ“</span> "Read more" content loading</code></pre>
    </div>
    <div class="result-panel">
        <div>
            <h4 class="demo-title">ğŸ•µï¸ Intersection Observer Demo</h4>
            <div class="intersection-status">
                <span class="status-indicator">ğŸ‘ï¸ Watching: <span id="watching-count">0</span> elements</span>
                <span class="status-indicator">âœ¨ Visible: <span id="visible-count">0</span> elements</span>
            </div>
            <div class="intersection-demo" id="intersection-container">
                <div class="scroll-item" data-item="1">
                    <div class="item-content">
                        <span class="item-emoji">ğŸš€</span>
                        <span class="item-text">Launch Sequence</span>
                        <span class="visibility-badge">Hidden</span>
                    </div>
                </div>
                <div class="scroll-item" data-item="2">
                    <div class="item-content">
                        <span class="item-emoji">âš¡</span>
                        <span class="item-text">Power Boost</span>
                        <span class="visibility-badge">Hidden</span>
                    </div>
                </div>
                <div class="scroll-item" data-item="3">
                    <div class="item-content">
                        <span class="item-emoji">ğŸŒŸ</span>
                        <span class="item-text">Star Power</span>
                        <span class="visibility-badge">Hidden</span>
                    </div>
                </div>
                <div class="scroll-item" data-item="4">
                    <div class="item-content">
                        <span class="item-emoji">ğŸ¯</span>
                        <span class="item-text">Target Lock</span>
                        <span class="visibility-badge">Hidden</span>
                    </div>
                </div>
                <div class="scroll-item" data-item="5">
                    <div class="item-content">
                        <span class="item-emoji">ğŸ†</span>
                        <span class="item-text">Victory!</span>
                        <span class="visibility-badge">Hidden</span>
                    </div>
                </div>
                <div class="scroll-item" data-item="6">
                    <div class="item-content">
                        <span class="item-emoji">ğŸ‰</span>
                        <span class="item-text">Celebration</span>
                        <span class="visibility-badge">Hidden</span>
                    </div>
                </div>
            </div>
            <br>
            <p> ğŸ“œ Scroll inside the container to trigger intersection events! </p>
        </div>
    </div>
</div>